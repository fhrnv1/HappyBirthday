<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ç”Ÿæ—¥å¿«ä¹!!! :)</title>
  <link rel="shortcut icon" type="image/png" href="img/favicon.png" />
  <link rel="stylesheet" href="style/style.css">
  <!-- ä½¿ç”¨æœ¬åœ°è‡ªæ‰˜ç®¡ Ma Shan Zheng å­—ä½“ï¼ˆæ‰§è¡Œ fonts:download åå¯ç”¨ï¼‰ -->
  <link rel="stylesheet" href="fonts/mashanzheng/mashanzheng.css">
  <!-- æ—©æœŸåˆ¤å®šï¼šåŒæ­¥è¯»å– unlockTimeï¼Œé¦–å¸§å‰å†³å®šæ˜¾ç¤º å€’è®¡æ—¶/å¼€å§‹ ç•Œé¢ -->
  <script>
    (function(){
      try {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', 'customize.json', false); // åŒæ­¥ï¼Œç¡®ä¿é¦–å¸§å‰å®Œæˆ
        xhr.send(null);
        var locked = false;
        if (xhr.status >= 200 && xhr.status < 300 && xhr.responseText) {
          var cfg = JSON.parse(xhr.responseText);
          var s = (cfg.unlockTime || '').trim();
          if (s) {
            var iso = s.indexOf('T') >= 0 ? s : s.replace(' ', 'T').replace(/\//g, '-');
            var d = new Date(iso);
            if (!isNaN(d.getTime())) {
              locked = d.getTime() > Date.now();
            }
          }
        }
        document.documentElement.classList.add(locked ? 'locked' : 'unlocked');
      } catch (e) {
        document.documentElement.classList.add('unlocked');
      }
    })();
  </script>
</head>

<body>
  <!-- å…¨å±å€’è®¡æ—¶ç•Œé¢ï¼šä»…åœ¨æœªåˆ°è§£é”æ—¶é—´æ—¶æ˜¾ç¤ºï¼Œè¾¾åˆ°æ—¶é—´è‡ªåŠ¨éšè— -->
  <div id="countdownScreen" class="countdown-screen" aria-hidden="true" style="display:none;">
    <div class="countdown-box">
      <h2 id="countdownTitle">æƒŠå–œå€’è®¡æ—¶</h2>
      <p id="countdownNote">åˆ°è¾¾æŒ‡å®šæ—¶é—´åå°†è‡ªåŠ¨å¼€å§‹</p>
      <p id="countdown" class="countdown-text" title="å€’è®¡æ—¶" aria-live="polite"></p>
    </div>
  </div>
  <button id="playPauseButton" class="play-pause" aria-label="æ’­æ”¾/æš‚åœéŸ³ä¹" title="æ’­æ”¾/æš‚åœéŸ³ä¹"></button>
  <div class="startSign">
    <p class="two">æ¸©é¦¨æé†’ï¼šä½©æˆ´è€³æœºå¹¶æ’­æ”¾éŸ³ä¹å¯è·å¾—æœ€ä½³ä½“éªŒå“¦ğŸ˜Š</p>
    <!-- å¼€å§‹æŒ‰é’® -->
    <p id="startButton" class="two button">å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬å¼€å§‹å§ï¼</p>
  </div>

  <div class="container">
    <div class="one">
      <h1 class="one">
        <span data-node-name="greeting">Hey</span>
        <span data-node-name="name">Lydia</span>
      </h1>
      <p class="two" data-node-name="greetingText">I really like your name btw!</p>
    </div>
    <div class="three">
      <p data-node-name="text1">It's your birthday!!! :D</p>
    </div>
    <div class="four">
      <div class="text-box">
        <p class="hbd-chatbox" data-node-name="textInChatBox">Happy birthday to you!! Yeee! Many many happy blah...</p>
        <p class="fake-btn" data-node-name="sendButtonLabel">Send</p>
      </div>
    </div>
    <div class="five">
      <p class="idea-1" data-node-name="text2">That's what I was going to do.</p>
      <p class="idea-2" data-node-name="text3">But then I stopped.</p>
      <p class="idea-3">
        <span data-node-name="text4">I realised, I wanted to do something</span>
        <strong data-node-name="text4Adjective">special</strong>.
      </p>
      <p class="idea-4" data-node-name="text5Entry">Because,</p>
      <p class="idea-5">
        <span data-node-name="text5Content">You are Special</span>
        <span class="smiley" data-node-name="smiley">:)</span>
      </p>
      <p class="idea-6">
        <span data-node-name="bigTextPart1">S</span>
        <span data-node-name="bigTextPart2">O</span>
      </p>
    </div>
    <div class="six">
      <div class="photo">
        <!-- é»˜è®¤å›¾ç‰‡ä¸ customize.json ä¸€è‡´ï¼Œé¿å…åˆå§‹ 404ï¼›JS ä¼šåœ¨åŠ è½½åè¦†ç›–ä¸ºè‡ªå®šä¹‰è·¯å¾„ -->
        <img src="img/sfyn.jpg" alt="Lydia's birthday portrait used in the greeting" class="lydia-dp" data-node-name="imagePath" draggable="false">
        <img src="img/hat.svg" alt="" class="hat" draggable="false">
        <div class="mask" aria-hidden="true"></div>
      </div>
      <div class="wish">
        <h3 class="wish-hbd" data-node-name="wishHeading">Happy Birthday!</h3>
        <h5 data-node-name="wishText">May the js.prototypes always be with you! ;)</h5>
      </div>
    </div>
    <div class="seven">
      <div class="baloons">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
      </div>
    </div>
    <div class="eight">
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
    </div>
    <div class="nine">
      <p data-node-name="outroText">Okay, now come back and tell me if you liked it.</p>
      <p id="replay" data-node-name="replayText">Or click, if you want to watch it again.</p>
      <p class="last-smile" data-node-name="outroSmiley">:)</p>
    </div>
    <canvas id="fireworksCanvas"></canvas>
  </div>
</body>

<link rel="preload" as="image" href="img/ballon1.svg" />
<link rel="preload" as="image" href="img/ballon2.svg" />
<link rel="preload" as="image" href="img/ballon3.svg" />
<link rel="preload" as="image" href="img/hat.svg" />
<!-- å›¾ç‰‡é¢„åŠ è½½ç”± JS æ ¹æ® customize.json åŠ¨æ€å¤„ç†ï¼Œæ— éœ€ç¡¬ç¼–ç  -->
<!-- ç§»é™¤ audio é¢„åŠ è½½ï¼ŒéŸ³é¢‘ç”± JS preloadï¼Œä¸”éƒ¨åˆ†æµè§ˆå™¨/ç¯å¢ƒä¼šå¯¹æ­¤å‘å‡ºå‘Šè­¦ -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
<script type="application/javascript" src="script/main.js"></script>
<script type="application/javascript" src="script/firework.js"></script>
</html>